/*! For license information please see [id].js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{GB9m:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return w}));var r=n("wx14"),i=n("rePB"),o=n("q1tI"),a=n.n(o),c=n("hw50"),s=n("QZg2"),u=n("/MKj"),f=n("5+Dc"),p=n("kQFM"),d=n("3Z9Z"),l=n("JI6e"),b=n("e+cM"),m=a.a.createElement;function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=!0;t.default=Object(u.b)((function(e){return{isAuthorized:null!==e.auth.token}}))((function(e){var t=e.bookProps,n=e.isAuthorized,a=Object(o.useState)(t),u=a[0],w=a[1],v=Object(o.useState)(0),O=v[0],g=v[1],y=Object(o.useState)(!1),S=y[0],j=y[1],k=Object(o.useContext)(p.b),x=Object(o.useContext)(p.a),E=Object(f.a)();Object(o.useEffect)((function(){w(t)}),[t]);return m(d.a,null,m(l.a,{sm:5},m(b.t,Object(r.a)({},u,{social:null}))),m(l.a,{sm:7},m(d.a,null,m(l.a,{md:10},m(b.s,Object(r.a)({},u,{expandDescription:function(){j(!0)},isDescriptionExpanded:S,cartClicked:function(){return k.onAddRemoveItem(u)},isInCart:k.onFindInCart(u.id),favouriteClicked:function(){s.a.post("profile/favourites/".concat(u.id),null,{headers:{Authorization:"Bearer ".concat(Object(c.c)(null).token)}}).then((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u,{in_favourites:!u.in_favourites});w(t)})).catch((function(e){console.log(e)}))},isAuthorized:n})),m(b.d,{items:u.feedback,rate:O,onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("rate",O),t.append("text",E.value),s.a.post("books/".concat(u.id,"/feedback"),t,{headers:{Authorization:"Bearer ".concat(Object(c.c)(null).token)}}).then((function(e){return E.clear,s.a.get("books/"+u.id)})).then((function(e){w(e.data)})).catch((function(e){return console.log(e)}))},commentControl:E,rateClicked:function(e){g(e+1)},onAuth:x.authModal.onShow,isAuthorized:n}))),m("h3",{className:"mt-5"},"\u0422\u0430\u043a\u0436\u0435 \u0432\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432\u0430\u0442\u044c"),m(b.v,{items:u.related,responsive:{lg:4}})))}))},hw50:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("iVi/"),i=n.n(r),o=function(e){return i.a.parse(e?e.headers.cookie||"":document.cookie)},a=function(e){var t=e.substring(0,4),n=e.substring(5,7),r=e.substring(8,10);return"".concat(r,"-").concat(n,"-").concat(t)},c=function(e){if(!e)return"";var t=e.substring(6,10),n=e.substring(3,5),r=e.substring(0,2);return"".concat(t,"-").concat(n,"-").concat(r)}},"iVi/":function(e,t,n){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},a=e.split(o),s=i.decode||r,u=0;u<a.length;u++){var f=a[u],p=f.indexOf("=");if(!(p<0)){var d=f.substr(0,p).trim(),l=f.substr(++p,f.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),void 0==n[d]&&(n[d]=c(l,s))}}return n},t.serialize=function(e,t,n){var r=n||{},o=r.encode||i;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var c=o(t);if(c&&!a.test(c))throw new TypeError("argument val is invalid");var s=e+"="+c;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(u)}if(r.domain){if(!a.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!a.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(s+="; HttpOnly");r.secure&&(s+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s};var r=decodeURIComponent,i=encodeURIComponent,o=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function c(e,t){try{return t(e)}catch(n){return e}}},xemy:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books/[id]",function(){return n("GB9m")}])}},[["xemy",0,2,1,3,4,5]]]);