{"version":3,"file":"static/webpack/static\\development\\pages\\cart\\order.js.18a1eaf3daab2decf9a0.hot-update.js","sources":["webpack:///./pages/cart/order/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport InputMask from \"react-input-mask\";\r\nimport {cities, districts} from '../../../lib/locations'\r\nimport { parseCookies } from \"../../../helpers/utils\";\r\nimport axios from \"../../../axios-api\";\r\nimport { Form, Formik, useFormik } from \"formik\";\r\nimport {  object, string } from \"yup\";\r\nimport { FormikGroup } from \"../../../components/UI\";\r\nimport { Card } from \"../../../components\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport { CartLayout } from \"../../../layouts\";\r\nconst OrderPage = props => {\r\n\tconst [showInputMask, setShowInputMask] = useState(false);\r\n\tconst formik = useFormik({\r\n\t\tinitialValues: {\r\n\t\t\tphone: props.profile?.phone || \"\",\r\n\t\t\tlastName: props.profile?.fio || \"\",\r\n\t\t\tfirstName: props.profile?.fio || \"\",\r\n\t\t\temail: props.profile?.email || \"\",\r\n\t\t\tcity: \"\",\r\n\t\t\tdistrict: \"\",\r\n\t\t\tstreet: \"\",\r\n\t\t\thouse: \"\",\r\n\t\t\taddress: \"\",\r\n\t\t\tcomment: \"\"\r\n\t\t},\r\n\t\tvalidationSchema: object({\r\n\t\t\tphone: string()\r\n\t\t\t\t.min(2, \"Имя должно содержать минимум 2 буквы\")\r\n\t\t\t\t.max(100, \"Name is too long\")\r\n\t\t\t\t.required(\"Name is required!\"),\r\n\r\n\t\t\tlastName: string().required(\"*Email is required\"),\r\n\t\t\tstreet: string()\r\n\t\t}),\r\n\r\n\t\tonSubmit: values => {\r\n\t\t\talert(JSON.stringify(values, null, 2));\r\n\t\t\tconsole.log(\"Hey!\");\r\n\t\t}\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tsetShowInputMask(true);\r\n\t}, []);\r\n\treturn (\r\n\t<Formik>\r\n\t\t\t<Form onSubmit={formik.handleSubmit}>\r\n\t\t\t\t<CartLayout isOrderPage>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h2>Оформить заказ</h2>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t\t<Card className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Card.Header>Номера телефона*</Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t{showInputMask && <InputMask\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-sm mt-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmask=\"+\\9\\98 (99) 999-99-99\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"+998 (__) ___-__-__\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talwaysShowMask={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formik.getFieldProps(\"phone\").value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={formik.getFieldProps(\"phone\").onChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t<Card.Header>КОНТАКТНАЯ ИНФОРМАЦИЯ</Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<FormikGroup name=\"lastName\" {...formik.getFieldProps(\"lastName\")} size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t\t\tФамилия*\r\n\t\t\t\t\t\t\t\t\t\t</FormikGroup>\r\n\t\t\t\t\t\t\t\t\t\t<FormikGroup name=\"firstName\" {...formik.getFieldProps(\"firstName\")} size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t\t\tИмя*\r\n\t\t\t\t\t\t\t\t\t\t</FormikGroup>\r\n\t\t\t\t\t\t\t\t\t\t<FormikGroup name=\"email\" {...formik.getFieldProps(\"email\")} size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t\t\tЭл. почта (для получения эл. версии)\r\n\t\t\t\t\t\t\t\t\t\t</FormikGroup>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t<Card className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<Card.Header>СПОСОБ ОПЛАТЫ</Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button>НАЛИЧНЫЕ ДЕНЬГИ</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button>ПЛАСТИКОВАЯ КАРТА</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<h6>Платежные системы</h6>\r\n\t\t\t\t\t\t\t\t\t\t<ul className=\"flex-columns\">\r\n\t\t\t\t\t\t\t\t\t\t\t{getImages().map((image, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={image} alt=\"payment\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t<Card.Header>АДРЕС ДОСТАВКИ</Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<FormikGroup\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\toptions={null}\r\n\t\t\t\t\t\t\t\t\t\t\t{...formik.getFieldProps(\"city\")}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\toptions={cities()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tВыберите город*\r\n\t\t\t\t\t\t\t\t\t\t</FormikGroup>\r\n\t\t\t\t\t\t\t\t\t\t<FormikGroup\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"district\"\r\n\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\toptions={null}\r\n\t\t\t\t\t\t\t\t\t\t\t{...formik.getFieldProps(\"district\")}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\toptions={districts()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tВыберите район*\r\n\t\t\t\t\t\t\t\t\t\t</FormikGroup>\r\n\t\t\t\t\t\t\t\t\t\t<FormikGroup name=\"street\" {...formik.getFieldProps(\"street\")} size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t\t\tУлица*\r\n\t\t\t\t\t\t\t\t\t\t</FormikGroup>\r\n\t\t\t\t\t\t\t\t\t\t<FormikGroup name=\"house\" {...formik.getFieldProps(\"house\")} size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t\t\tНомер дома*\r\n\t\t\t\t\t\t\t\t\t\t</FormikGroup>\r\n\t\t\t\t\t\t\t\t\t\t<FormikGroup name=\"address\" {...formik.getFieldProps(\"address\")} size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t\t\tУказать в формате КВАРТАЛ-ДОМ-КВАРТИРА\r\n\t\t\t\t\t\t\t\t\t\t</FormikGroup>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t<Card className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<Card.Header>Оставьте комментарии</Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<FormikGroup\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"comment\"\r\n\t\t\t\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Ориентир, дополнительный номер и т.д\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...formik.getFieldProps(\"comment\")}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tКомментарий\r\n\t\t\t\t\t\t\t\t\t\t</FormikGroup>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t</CartLayout>\r\n\t\t\t</Form>\r\n\t\t\t</Formik>\r\n\t);\r\n};\r\nconst getImages = () => [\r\n\t\"/images/payment/payme.png\",\r\n\t\"/images/payment/uzcard.png\",\r\n\t\"/images/payment/click.png\",\r\n\t\"/images/payment/humo.png\",\r\n\t\"/images/payment/visa.png\",\r\n\t\"/images/payment/paynet.png\"\r\n];\r\nexport const getServerSideProps = async context => {\r\n\tlet profile = null;\r\n\tconst token = parseCookies(context.req).token;\r\n\tif (token) {\r\n\t\tprofile = await axios.get(\"profile\", {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t}\r\n\t\t});\r\n\t\tprofile = profile.data;\r\n\t}\r\n\treturn {\r\n\t\tprops: {\r\n\t\t\tprofile\r\n\t\t}\r\n\t};\r\n};\r\nexport default OrderPage;\r\n"],"mappings":"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","sourceRoot":""}